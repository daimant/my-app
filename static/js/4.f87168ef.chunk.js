(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[4],{225:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return f}));var n=a(230),r=a(0),o=a.n(r),l=a(226),c=a.n(l),u=a(110),i=function(e){var t=e.meta,a=t.touched,n=t.error,r=e.children,l=a&&n;return o.a.createElement("div",{className:c.a.formControl+" "+(l?c.a.error:"")},o.a.createElement("div",null,r),l&&o.a.createElement("span",null,n))},s=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return o.a.createElement(i,e,o.a.createElement("textarea",Object.assign({},t,a)))},m=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return o.a.createElement(i,e,o.a.createElement("input",Object.assign({},t,a)))},f=function(e,t,a,n,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(u.a,Object.assign({component:e,name:t,placeholder:a,validate:n},r)),l)}},226:function(e,t,a){e.exports={formControl:"FormsControls_formControl__39T7p",error:"FormsControls_error__1RcPh",formSummaryError:"FormsControls_formSummaryError__3ZRfe"}},227:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},r=function(e){return function(t){if(t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}}},229:function(e,t,a){e.exports=a.p+"static/media/user.b0067151.png"},248:function(e,t,a){e.exports={backgroundImg:"ProfInfo_backgroundImg__198UH",avatar:"ProfInfo_avatar__2DXkf",descriptionBlock:"ProfInfo_descriptionBlock__1wXKw",contact:"ProfInfo_contact__CEYas",formSummaryError:"ProfInfo_formSummaryError__2ckMe"}},293:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__EuxMD",posts:"MyPosts_posts__3_4Eg"}},294:function(e,t,a){e.exports={item:"Post_item__3HJpX"}},300:function(e,t,a){"use strict";a.r(t);var n=a(33),r=a(34),o=a(35),l=a(36),c=a(0),u=a.n(c);var i=a(65);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(u){r=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=a(248),f=a.n(m),p=a(48),d=a(229),b=a.n(d),E=a(230),v=function(e){var t=e.isOwner,a=e.updateStatus,n=Object(E.a)(e,["isOwner","updateStatus"]),r=s(Object(c.useState)(!1),2),o=r[0],l=r[1],i=s(Object(c.useState)(n.status),2),m=i[0],f=i[1];Object(c.useEffect)((function(){f(n.status)}),[n.status]);return u.a.createElement("div",null,!o&&u.a.createElement("div",null,u.a.createElement("span",{onDoubleClick:function(){t&&l(!0)}},u.a.createElement("b",null,"\u0421\u0442\u0430\u0442\u0443\u0441:")," ",n.status||"\u0421\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0435\u0442")),o&&u.a.createElement("div",null,"\u0421\u0442\u0430\u0442\u0443\u0441:"," ",u.a.createElement("input",{onBlur:function(){l(!1),a(m)},onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,value:m})))},h=a(225),g=a(111),O=Object(g.a)({form:"edit-profile"})((function(e){var t=e.profile,a=e.handleSubmit,n=e.error;return u.a.createElement("form",{onSubmit:a},u.a.createElement("button",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n&&u.a.createElement("div",{className:f.a.formSummaryError},n),u.a.createElement("div",null,u.a.createElement("b",null,"Id:")," ",t.userId),u.a.createElement("div",null,u.a.createElement("b",null,"\u0418\u043c\u044f:")," ",t.fullName,Object(h.c)(h.a,"fullName","\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",[])," "),u.a.createElement("div",null,u.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:")," ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442",Object(h.c)(h.a,"lookingForAJob","",[],{type:"checkbox"})),u.a.createElement("div",null,u.a.createElement("b",null,"\u041f\u0440\u043e\u0444.\u043d\u0430\u0432\u044b\u043a\u0438:")," ",t.lookingForAJobDescription?t.lookingForAJobDescription:"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e",Object(h.c)(h.b,"lookingForAJobDescription","\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438",[])),u.a.createElement("div",null,u.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",t.aboutMe?t.aboutMe:"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e",Object(h.c)(h.b,"aboutMe","\u041e\u0431\u043e \u043c\u043d\u0435",[])),u.a.createElement("div",null,u.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:")," ",Object.keys(t.contacts).map((function(e,t){return u.a.createElement("div",{key:t,className:f.a.contact},u.a.createElement("b",null,e),Object(h.c)(h.b,"contacts."+e,e,[]))}))))})),k=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return u.a.createElement("div",null,a&&u.a.createElement("div",null,u.a.createElement("button",{onClick:n},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")),u.a.createElement("div",null,u.a.createElement("b",null,"Id:")," ",t.userId),u.a.createElement("div",null,u.a.createElement("b",null,"\u0418\u043c\u044f:")," ",t.fullName),u.a.createElement("div",null,u.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:")," ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"),u.a.createElement("div",null,u.a.createElement("b",null,"\u041f\u0440\u043e\u0444.\u043d\u0430\u0432\u044b\u043a\u0438:")," ",t.lookingForAJobDescription?t.lookingForAJobDescription:"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),u.a.createElement("div",null,u.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",t.aboutMe?t.aboutMe:"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),u.a.createElement("div",null,u.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:")," ",Object.keys(t.contacts).map((function(e,a){return u.a.createElement(P,{key:a,contactTitle:e,contactValue:t.contacts[e]})}))))},P=function(e){var t=e.contactTitle,a=e.contactValue;return u.a.createElement("div",{className:f.a.contact},u.a.createElement("b",null,t,":")," ",a||"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")},_=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto,l=e.saveProfile,i=s(Object(c.useState)(!1),2),m=i[0],d=i[1];if(!t)return u.a.createElement(p.a,null);return u.a.createElement("div",null,u.a.createElement("div",{className:f.a.descriptionBlock},u.a.createElement("img",{className:f.a.avatar,src:t.photos.large||b.a,alt:b.a}),u.a.createElement("div",null,r&&u.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})),u.a.createElement(v,{status:a,updateStatus:n,isOwner:r}),m?u.a.createElement(O,{initialValues:t,profile:t,onSubmit:function(e){l(e).then((function(){return d(!1)}))}}):u.a.createElement(k,{profile:t,isOwner:r,goToEditMode:function(){d(!0)}})))},y=a(59),j=a(293),S=a.n(j),w=a(294),I=a.n(w),C=function(e){var t=e.img,a=e.message,n=e.likeCounts,r=e.id;return u.a.createElement("div",{className:I.a.item,key:r},u.a.createElement("img",{src:t,alt:b.a}),a,u.a.createElement("div",null,u.a.createElement("span",null,n," \u043b\u0430\u0439\u043a\u043e\u0432")))},A=a(110),x=a(227),D=u.a.memo((function(e){var t=e.postsData,a=e.addPost,n=t.map((function(e){return u.a.createElement(C,{message:e.message,img:e.img,likeCounts:e.likeCounts,id:e.id,key:e.id})}));return u.a.createElement("div",{className:S.a.postsBlock},u.a.createElement("div",null,u.a.createElement("h3",null," \u0421\u0442\u0435\u043d\u0430 "),u.a.createElement(N,{onSubmit:function(e){a(e.newPostText)}})),u.a.createElement("div",{className:S.a.posts},n))})),F=Object(x.a)(10),N=Object(g.a)({form:"profileAddNewPostForm"})((function(e){return u.a.createElement("form",{onSubmit:e.handleSubmit},u.a.createElement("div",null,u.a.createElement(A.a,{name:"newPostText",component:h.b,validate:[x.b,F],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})),u.a.createElement("div",null,u.a.createElement("button",null," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442")))})),M=D,J=a(22),T=Object(J.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(y.a)(t))}}}))(M),B=function(e){var t=e.isOwner,a=e.profile,n=e.status,r=e.updateStatus,o=e.savePhoto,l=e.saveProfile;return u.a.createElement("div",null,u.a.createElement(_,{isOwner:t,profile:a,status:n,updateStatus:r,savePhoto:o,saveProfile:l}),u.a.createElement(T,null))},U=a(20),V=a(17),X=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).refreshProfile=function(){var t=e.props.match.params.userId;t||(t=e.props.authorizedUserId),e.props.getUserProfile(t),e.props.getStatus(t)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return u.a.createElement(B,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(u.a.Component);t.default=Object(V.d)(Object(J.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:y.d,getStatus:y.c,updateStatus:y.g,savePhoto:y.e,saveProfile:y.f}),U.g)(X)}}]);
//# sourceMappingURL=4.f87168ef.chunk.js.map